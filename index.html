<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebXR Meditation</title>
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
    
    <script>
        // Check if script is actually running
        console.log("A-Frame script loaded and running!");

        AFRAME.registerComponent('procedural-world', {
            init: function () {
                console.log("Generating world...");
                const sceneEl = this.el;
                const colors = ['#4CC3D9', '#EF2D5E', '#FFC65D', '#7BC8A4'];

                for (let i = 0; i < 100; i++) {
                    let crystal = document.createElement('a-octahedron');
                    
                    // Position
                    let x = (Math.random() - 0.5) * 60;
                    let y = (Math.random() - 0.5) * 60;
                    let z = (Math.random() - 0.5) * 60;

                    crystal.setAttribute('position', {x: x, y: y, z: z});
                    crystal.setAttribute('color', colors[Math.floor(Math.random() * colors.length)]);
                    crystal.setAttribute('radius', Math.random() * 1.5);
                    
                    sceneEl.appendChild(crystal);
                }
            }
        });
    </script>
    <style>
        body { margin: 0; background-color: #000; }
    </style>
</head>
<body>
    <a-scene procedural-world renderer="antialias: false" background="color: #080808">
        
        <a-entity id="rig" position="0 0 0">
            <a-camera look-controls></a-camera>
            <a-entity oculus-touch-controls="hand: left"></a-entity>
            <a-entity oculus-touch-controls="hand: right"></a-entity>
        </a-entity>

        <a-light type="ambient" intensity="0.5"></a-light>
        <a-light type="point" intensity="1" position="2 4 4"></a-light>

    </a-scene>
</body>
</html>
